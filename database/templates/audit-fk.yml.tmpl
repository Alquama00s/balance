databaseChangeLog:
  - changeSet:
        id: add-audit-fk-${table}
        author: alquama
        changes:
          - addForeignKeyConstraint:
                baseTableName: ${table}
                baseColumnNames: created_by
                referencedTableName: users
                referencedColumnNames: id
                constraintName: created_by_fk_${table}
                onUpdate: RESTRICT
          - addForeignKeyConstraint:
                baseTableName: ${table}
                baseColumnNames: updated_by
                referencedTableName: users
                referencedColumnNames: id
                constraintName: updated_by_fk_${table}
                onUpdate: RESTRICT
          - addForeignKeyConstraint:
                baseTableName: ${table}
                baseColumnNames: deleted_by
                referencedTableName: users
                referencedColumnNames: id
                constraintName: deleted_by_fk_${table}
                onUpdate: RESTRICT
          - addNotNullConstraint:
                tableName: users
                columnName: created_by
                columnDataType: uuid
                validate: false
